@{
    ViewBag.Title = "Пациенты";
}

<div>
    <h2 id="top">@ViewBag.Title</h2>
    <br />
    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon1">Поиск по </span>
        </div>
        <input type="text" id="fullNameSearch" class="form-control" placeholder="ФИО" aria-label="ФИО" aria-describedby="Поиск по ФИО">
        <input type="text" id="insuranceNumberSearch" class="form-control" placeholder="СНИЛС" aria-label="СНИЛС" aria-describedby="Поиск по СНИЛС">
    </div>

    <div>
        <div style="margin-bottom: 10px;">
            <span id="searchState"></span><span id="searchProgress"></span>
        </div>
        <input id="getPatientsUrl" type="hidden" value="@Url.Action(PatientsRoutes.search, PatientsRoutes.controller)" />
    </div>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">Фамилия</th>
                <th scope="col">Имя</th>
                <th scope="col">Отчество</th>
                <th scope="col">Дата рождения</th>
                <th scope="col">Пол</th>
                <th scope="col">СНИЛС</th>
                <th scope="col">Прививки</th>
            </tr>
        </thead>
        <tbody id="patients-list">
            <tr class='clickable-row' data-href='@Url.Action(@PatientsRoutes.patient, @PatientsRoutes.controller)/[[id]]' style="display: none;">
                <td scope="row">[[lastName]]</td>
                <td>[[firstName]]</td>
                <td>[[patronymic]]</td>
                <td>[[birthDate]]</td>
                <td>[[sex]]</td>
                <td>[[insuranceNumber]]</td>
                <td>[[inoculationsCount]]</td>
            </tr>
        </tbody>
    </table>

    <div>
        <p>
            <strong id="page-info"></strong>
        </p>
        <nav aria-label="Страницы">
            <ul id="pagination" class="pagination">
                <li class="page-item" style="display:none;">
                    <a class="page-link" href="#top" onclick="return false;">[[number]]</a>
                </li>
            </ul>
        </nav>
    </div>

</div>

@section Styles {
    <environment include="Development">
        <link href="~/structured/patients/index.css" rel="stylesheet" asp-append-version="true" />
    </environment>
    <environment exclude="Development">
        <link href="~/structured/patients/index.min.css" rel="stylesheet" asp-append-version="true" />
    </environment>
}

@section Scripts {
    <script src="~/lib/miranda/jquery.miranda.js" asp-append-version="true"></script>
    <environment include="Development">
        <script src="~/structured/patients/index.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="~/structured/patients/index.es5.min.js" asp-append-version="true"></script>
    </environment>
}